<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Properties | Admin</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;700&display=swap" rel="stylesheet">
  <script>tailwind.config={theme:{extend:{colors:{primary:"#2E8B57"}}}}</script>
</head>
<body class="font-display bg-[#edf5ed] text-gray-800">
<div class="flex min-h-screen">
  <aside class="w-64 bg-white p-4 shadow-md">
    <nav class="space-y-2">
      <a href="/admin/dashboard" class="block py-2">ğŸ  Dashboard</a>
      <a href="/admin/users" class="block py-2">ğŸ‘¤ Users</a>
      <a href="/admin/feedbacks" class="block py-2">ğŸ’¬ Feedbacks</a>
      <a href="/admin/properties" class="block py-2 bg-primary/10 rounded font-semibold">ğŸ˜ Properties</a>
      <a href="/admin/payments" class="block py-2">ğŸ’³ Payments</a>
    </nav>
  </aside>

  <main class="flex-1 p-8">
    <h1 class="text-2xl font-bold mb-6">All Listed Properties</h1>

    <!-- Filters -->
    <form method="get" class="flex gap-4 mb-6 flex-wrap">
      <input type="text" name="city" th:value="${city}" placeholder="Filter by city"
             class="rounded border-gray-300 flex-1 min-w-[180px]">
      <input type="text" name="district" th:value="${district}" placeholder="Filter by district"
             class="rounded border-gray-300 flex-1 min-w-[180px]">
      <button class="bg-primary text-white px-4 py-2 rounded">Search</button>
    </form>

    <!-- Table -->
    <div class="overflow-x-auto bg-white rounded-lg shadow">
      <table class="min-w-full">
        <thead class="bg-primary text-white">
        <tr>
          <th class="px-4 py-2 text-left">Title</th>
          <th class="px-4 py-2 text-left">City</th>
          <th class="px-4 py-2 text-left">District</th>
          <th class="px-4 py-2 text-left">Vendor Email</th>
          <th class="px-4 py-2 text-left">Price ($)</th>
          <th class="px-4 py-2 text-left">Status</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="p:${properties}" class="border-b hover:bg-gray-50">
          <td class="px-4 py-2 font-semibold" th:text="${p.title}"></td>
          <td class="px-4 py-2" th:text="${p.city}"></td>
          <td class="px-4 py-2" th:text="${p.district}"></td>
          <td class="px-4 py-2" th:text="${p.vendorEmail}"></td>
          <td class="px-4 py-2" th:text="${#numbers.formatDecimal(p.price,1,2)}"></td>
          <td class="px-4 py-2">
            <span th:text="${p.isSold} ? 'Sold' : 'Active'"
                  th:classappend="${p.isSold}? 'text-red-600' : 'text-green-600'"></span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </main>
</div>
</body>
</html>
