<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin | Payments</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-[Manrope] text-gray-800">
<div class="max-w-7xl mx-auto py-10 px-6">

  <h1 class="text-3xl font-bold text-green-800 mb-6">All Payments</h1>

  <table class="w-full border-collapse bg-white shadow-md rounded-xl overflow-hidden">
    <thead class="bg-green-700 text-white">
      <tr>
        <th class="p-3 text-left">ID</th>
        <th class="p-3 text-left">Buyer Email</th>
        <th class="p-3 text-left">Property</th>
        <th class="p-3 text-left">Amount</th>
        <th class="p-3 text-left">Method</th>
        <th class="p-3 text-left">Date</th>
        <th class="p-3 text-left">Status</th>
        <th class="p-3 text-left">Notes</th>
        <th class="p-3 text-center">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="p : ${payments}" class="border-b hover:bg-green-50">
        <td class="p-3" th:text="${p.id}">1</td>
        <td class="p-3" th:text="${p.buyerEmail}">user@example.com</td>
        <td class="p-3" th:text="${p.property != null ? p.property.title : '—'}">Property</td>
        <td class="p-3" th:text="${p.property != null ? '$' + p.amount : '—'}">$0.00</td>        
        <td class="p-3" th:text="${p.method}">Card</td>
        <td class="p-3" th:text="${p.date}">2025-10-26</td>
        <td class="p-3" th:text="${p.status}">PAID</td>
        <td class="p-3" th:text="${p.notes}">—</td>
        <td class="p-3 text-center">
          <a th:href="@{'/admin/payments/edit/' + ${p.id}}"
             class="text-blue-600 hover:text-blue-800 font-semibold">Edit</a>
          <span class="mx-2 text-gray-400">|</span>
          <a th:href="@{'/admin/payments/delete/' + ${p.id}}"
             class="text-red-600 hover:text-red-800 font-semibold"
             onclick="return confirm('Are you sure you want to delete this payment?');">Delete</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
</body>
</html>
